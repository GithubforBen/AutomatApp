<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Documentation</title>
</head>
<body>
<p><b>Documentation:</b></p>
Before adding a user a course must be added. Before adding a Course a Teacher must be added.
<table style="width:100%">
    <tr>
        <th>Route</th>
        <th>Usage</th>
        <th>Input</th>
        <th>Output</th>
        <th>Notes</th>
        <th>Example</th>
    </tr>
    <tr>
        <th>/</th>
        <th>get this documentation</th>
        <th>None</th>
        <th>this html</th>
        <th>None</th>
        <th><a href="./index.html" class="button">/</a></th>
    </tr>
    <tr>
        <th>/addTeacher</th>
        <th>Adds the teacher.</th>
        <th>
            <p>JSON Object:</p>
        {
            "firstName": "John",
            "lastName": "Doe",
            "email": "john.doe@gmail.com",
            "password": "123456",
            "level": "NORMAL", //NORMAL OR ADMIN
            "birthday": "234567890",
            "gender": "MALE",//use route /genders for full list
            "rfid" : [100, 100, 100, 100],
            "address": {
                "nr": 8,
                "street": "Albert-Einstein-Ding",
                "city": "Groß Gerau",
                "zip": "12345",
                "country": "Germany"
                }
            }
        </th>
        <th>
            Courses are Present in the data, but Teachers are set via Kurs modify.
            Inherited from User.
        </th>
        <th>
            <p><b>Can't serialize String(400):</b></p>
            The following sting isn't a json object!
            {string}
            <p><b>Information missing(400):</b></p>
            Can't parse JSON object!
            {error message}
            <p><b>Success(200):</b></p>
            Successfully added teacher
        </th>
        <th><button onclick="addTeacher()" class="button">/addTeacher</button></th>
    </tr>
    <tr>
        <th>/addCourse</th>
        <th>Adds a Course.</th>
        <th>
            <p>JSON Object:</p>
            {
            "name": "John",
            "tutor": ["1"],//List with id's
            "day": "MONTAG"//Full list: /days
            }
        </th>
        <th>
            The Tutor must have
        </th>
        <th>
            <p><b>Can't serialize String(400):</b></p>
            The following sting isn't a json object!
            {string}
            <p><b>Information missing(400):</b></p>
            Can't parse JSON object!
            {error message}
            <p><b>Success(200):</b></p>
            Successfully added curse
        </th>
        <th>
            <button class="button" onclick="addCourse()">/addCourse</button>
        </th>
    </tr>

    <tr>
        <th>/genders</th>
        <th>Get all usable Genders.</th>
        <th>None</th>
        <th>Gender {newLine}</th>
        <th>None</th>
        <th><a href="/genders" class="button">/genders</a></th>
    </tr>

    <tr>
        <th>/days</th>
        <th>Get all usable Days.</th>
        <th>None</th>
        <th>Day {newLine}</th>
        <th>None</th>
        <th><a href="/days" class="button">/days</a></th>
    </tr>

    <tr>
        <th>/addStudent</th>
        <th>Adds the user.</th>
        <th>
            <p>JSON Object:</p>
            {
            "firstName": "John",
            "lastName": "Doe",
            "kurse": [
                {
                    "name": "IT",
                    "tutor": "lelek",
                    "day":  "MONTAG"
                }
            ],
            "birthday": "234567890",
            "gender": "MALE",//use route /genders for full list
            "rfid" : [100, 100, 100, 100],
            "address": {
                "nr": 8,
                "street": "Albert-Einstein-Ding",
                "city": "Groß Gerau",
                "zip": "12345",
                "country": "Germany"
            }
            }
        </th>
        <th>
            None
        </th>
        <th>
            <p><b>Can't serialize String(400):</b></p>
            The following sting isn't a json object!
            {string}
            <p><b>Information missing(400):</b></p>
            Can't parse JSON object!
            {error message}
            <p><b>Success(200):</b></p>
            Successfully added teacher
        </th>
        <th><button onclick="addStudent()" class="button">/addUser</button></th>
    </tr>

    <tr>
        <th>/allUsers</th>
        <th>get a list containing all users</th>
        <th>None</th>
        <th></th>
        <th>None</th>
        <th><a href="/allUsers" class="button">/allUsers</a></th>
    </tr>

    <tr>
        <th>/allTeachers</th>
        <th>get a list containing all Teachers</th>
        <th>None</th>
        <th></th>
        <th>None</th>
        <th><a href="/allTeachers" class="button">/allTeachers</a></th>
    </tr>
</table>
</body>
</html>

<script>
    function addTeacher() {
        //use route /genders for full list
        fetch('./addTeacher', {
            method: 'POST',
            body: JSON.stringify(
                {
                'firstName': 'John',
                'lastName': 'Doe',
                'email': 'john.doe@gmail.com',
                'password': '123456',
                'birthday': '234567890',
                'level': 'NORMAL',
                'gender': 'MALE',
                'rfid' : [100, 100, 100, 100],
                'address': {
                    'nr': 8,
                    'street': 'Albert-Einstein-Ding',
                    'city': 'Groß Gerau',
                    'zip': '12345',
                    'country': 'Germany'
                    }
                }
            ),
            headers: {
                'Content-type': 'application/json; charset=UTF-8'
            }
        }).then(response => {
            console.log(response);
            window.location.href = response.toString();
            return response.toString();
        });
    }

    function addStudent() {
        //use route /genders for full list
        fetch('./addStudent', {
            method: 'POST',
            body: JSON.stringify(
                {
                    "firstName": "John",
                    "lastName": "Doe",
                    "kurse": [
                        "1"
                    ],
                    "birthday": "234567890",
                    "gender": "MALE",//use route /genders for full list
                    "rfid" : [100, 100, 100, 100],
                    "address": {
                        "nr": 8,
                        "street": "Albert-Einstein-Ding",
                        "city": "Groß Gerau",
                        "zip": "12345",
                        "country": "Germany"
                    }
                }
            ),
            headers: {
                'Content-type': 'application/json; charset=UTF-8'
            }
        }).then(response => {
            console.log(response);
            return response.toString();
        });
    }

    function addCourse() {
        fetch('./addCourse', {
            method: 'POST',
            body: JSON.stringify(
                {
                    "name": "John",
                    "tutor": ["1"],//List with id's
                    "day": "MONTAG"//Full list: /days
                }
            ),
            headers: {
                'Content-type': 'application/json; charset=UTF-8'
            }
        }).then(response => {
            console.log(response);
            return response.toString();
        });
    }
</script>
<style>
    table, th, tr {
        border-color: black;
        border-width: 1px;
        border-style: solid;
    }
</style>